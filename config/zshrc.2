# https://patorjk.com/software/taag/#p=display&f=ANSI%20Regular&t=Type%20Something%20
#
# ╔═══════════════════════════════════════════════════╗
# ║                                                   ║
# ║       ███████ ███████ ██   ██ ██████   ██████     ║
# ║          ███  ██      ██   ██ ██   ██ ██          ║
# ║         ███   ███████ ███████ ██████  ██          ║
# ║        ███         ██ ██   ██ ██   ██ ██          ║
# ║    ██ ███████ ███████ ██   ██ ██   ██  ██████     ║
# ║                                                   ║
# ╚═══════════════════════════════════════════════════╝

                                           
                                           
if [ -d "$HOME/scripts" ] ; then
  PATH="$PATH:$HOME/scripts"
fi

if [ -d "$HOME/.local/bin" ] ; then
  PATH="$PATH:$HOME/.local/bin"
fi

HISTFILE=~/.history
HISTSIZE=100000
SAVEHIST=100000

setopt inc_append_history
setopt PROMPT_SUBST

autoload -Uz compinit && compinit
autoload -Uz vcs_info

export ZVM_VI_INSERT_ESCAPE_BINDKEY=jk

bindkey -v
bindkey "\e[A" history-beginning-search-backward
bindkey "\e[B" history-beginning-search-forward

source $HOME/.config/zsh-vi-mode/zsh-vi-mode.plugin.zsh

function history-search-widget() {
  zle "history-beginning-search-$1"
}

function custom_keybindings() {
  zvm_define_widget history-search-widget

  zvm_bindkey vicmd 'k' history-search-widget "backward"
  zvm_bindkey vicmd 'j' history-search-widget "forward"
  zvm_bindkey viins '^K' history-search-widget "backward"
  zvm_bindkey viins '^J' history-search-widget "forward"
}

zvm_after_init_commands+=(custom_keybindings)

eval "$(zoxide init --cmd 'cd' zsh)"

alias ss=source /root/.zshrc

# ✚●

zstyle ':vcs_info:git*' formats "(%b) %u %c %a %m"
zstyle ':vcs_info:*' enable git
zstyle ':vcs_info:*' check-for-changes true
zstyle ':vcs_info:*' stagedstr '%F{green}+%f'
zstyle ':vcs_info:*' unstagedstr '%F{red}-%f'

precmd() {
    vcs_info
}

PROMPT='%{$fg[yellow]%}[%D{%f/%m/%y} %D{%L:%M:%S}] %F{blue}%~%f # '
RPROMPT='${vcs_info_msg_0_}'
 
